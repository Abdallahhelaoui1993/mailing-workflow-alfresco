<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:ui="http://java.sun.com/jsf/facelets"   
	>

<f:metadata>
	<f:viewAction action="#{employeMB.initSelectOneMenu}" />
	<f:viewAction action="#{employeMB.initAlfresco}" />
</f:metadata>

<h:head>

 

</h:head>

<h:body>
	<p:layout fullPage="true">	<p:layoutUnit position="south" size="30" styleClass="south">
			<h:outputText style="float:right;font-size:12px;"
				value="#{lang['oratech']}" />
		</p:layoutUnit>
		<p:layoutUnit position="north" resizable="true" size="100"
			minSize="40" maxSize="200">
         <ui:include src="/presets/header.xhtml"/>
    </p:layoutUnit>

		<p:layoutUnit position="west">
		
				<ui:include src="/presets/menu.xhtml"/>
			
		</p:layoutUnit>

		<p:layoutUnit position="center">
<ui:include src="/restreint/notification.xhtml" />
			<h:form>
				<h2> #{lang['ajouter_employe']} </h2>
			<p:growl id="growl" />
 
			<h:panelGrid columns="3" cellpadding="5">
					<h:outputLabel for="nom" value="#{lang['nom']} :" />
					<p:inputText id="nom" value="#{employeMB.employe.nom}"  validator="#{employeMB.validateName}" required="true" requiredMessage="#{lang['nom_requis']}">
					
					<p:ajax  update="nom,msgNom"></p:ajax>
					</p:inputText>
					<p:message id="msgNom" for="nom" />
					
					
					<h:outputLabel for="prenom" value="#{lang['prenom']} :" />
					<p:inputText id="prenom" value="#{employeMB.employe.prenom}" validator="#{employeMB.validateName}" required="true" requiredMessage="#{lang['prenom_requis']}" >
					
					<p:ajax  update="prenom,msgPrenom"></p:ajax>
					</p:inputText>
					<p:message id="msgPrenom" for="prenom" />
					<h:outputLabel for="email" value="#{lang['email']} :" />
					<p:inputText id="email" value="#{employeMB.employe.email}"  validator="#{employeMB.validateEmail}"  required="true" requiredMessage="#{lang['email_requis']}">
					<p:ajax  update="email,msgEmail"></p:ajax>
				
				</p:inputText>
					<p:message id="msgEmail" for="email" />
					
					<h:outputLabel for="username" value="#{lang['username']}:" />
					<p:inputText id="username" value="#{employeMB.employe.username}"  validator="#{employeMB.validateUsername}" required="true" requiredMessage="#{lang['username_requis']}">
						<p:ajax  update="username,msgUsername"></p:ajax>
					
					</p:inputText>
					<p:message id="msgUsername" for="username" />
					
					<h:outputLabel for="password" value="#{lang['password']}:" />
					<p:password id="password" value="#{employeMB.employe.password}"  required="true" requiredMessage="#{lang['password_requis']}">
					
					<p:ajax  update="msgPassword"></p:ajax>
					</p:password>
					<p:message id="msgPassword" for="password" />
					
					<h:outputLabel for="service" value="#{lang['service']}:" />
					<p:selectOneMenu id="service"
						value="#{employeMB.employe.serviceInt}"
						converter="serviceConverter" style="width:226px">
						<f:selectItems value="#{employeMB.servicesInternes}" var="service"
							itemLabel="#{service.nom}" itemValue="#{service}" />
					</p:selectOneMenu>
					<p:message id="msgService" for="service" />
					<h:outputLabel for="role" value="#{lang['role']} :" />
					<p:selectOneMenu id="role" value="#{employeMB.employe.role}">
						<f:selectItem itemLabel="#{lang['admin']}"
							itemValue="ADMIN" />
						<f:selectItem itemLabel="#{lang['abo']}"
							itemValue="ABO" />
						<f:selectItem itemLabel="#{lang['user']}" itemValue="USER" />
					</p:selectOneMenu>
					<p:message id="msgRole" for="role" />
					
  
     <p:commandButton value="#{lang['ajouter']}" action="#{employeMB.add}"  update="msgUsername,msgEmail,msgNom,msgPrenom,msgPassword"  />
				
					</h:panelGrid>

			</h:form>
		</p:layoutUnit>
	</p:layout>
</h:body>
</html>